---
- name: "collectors: call os/platform/version specific collectors"
  include_tasks: "{{ item }}"
  with_first_found:
    - skip: true
      files:
        # yamllint disable-line rule:line-length
        - "collectors/{{ layer2_os }}/{{ layer2_platform }}/{{ layer2_version }}/{{ layer2_function }}.yaml"
        # yamllint disable-line rule:line-length
        - "collectors/{{ layer2_os }}/{{ layer2_platform }}/{{ layer2_function }}.yaml"
        - "collectors/{{ layer2_os }}/{{ layer2_function }}.yaml"

